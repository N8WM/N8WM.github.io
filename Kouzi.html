<!DOCTYPE html>
<html>
  <head>
    <title>Kouzi</title>
    <link href="https://fonts.googleapis.com/css?family=Josefin Slab" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="N8WM.github.io/Behave.js"></script>
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png" />
    <link rel="apple-touch-startup-image" href="/gthb.png" />
    <meta name="apple-mobile-web-app-title" content="Kouzi">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <style>
      body {
        overflow: hidden;
        height: 100vh;
      }
      
      #kouzi-top {
        top: 0;
        height: 5%;
        width: 100%;
        padding: 0.5%;
        background-color: white;
        z-index: 3;
        overflow: hidden;
      }
      
      #kouzi-top #title {
        font-family: "Josefin Slab", Georgia, Serif;
        font-size: 4%;
        color: #55f;
        z-index: 4;
      }
      
      .outer {
        overflow: hidden;
        width: 100%;
        height: 90%;
      }
      
      .i-mainL {
        width: 100%;
        height: 90%;
        position: absolute;
        left: 0%;
        transition: 0.5s;
      }
      
      .i-mainL.triggered {
        left: -100%;
        transition: 0.5s;
      }
      
      .i-mainR {
        width: 100%;
        height: 90%;
        position: absolute;
        left: 100%;
        transition: 0.5s;
      }
      
      .i-mainR.triggered {
        left: 0%;
        transition: 0.5s;
      }
      
      .btn {
        background-color: lightgray;
      }
      
      .btn:active {
        outline: none;
      }
      
      .btn:focus {
        outline: none;
      }
      
      #txta {
        width: 95%;
        height: 50%;
        border: 5px solid lightgray;
        border-radius: 5px;
        font-family: 'Inconsolata', monospace;
        transition: 0.5s;
        overflow: auto;
      }
      
      #txta:focus {
        outline: none;
        height: 70%;
        transition: 0.5s;
      }
      
      #frame {
        width: 95%;
        height: 70%;
        border: 5px solid lightgray;
        border-radius: 5px;
        overflow: hidden;
      }
      
      #frame iframe {
        width: 100%;
        height: 70%;
        border: none;
        overflow: auto;
      }
      
    </style>
  </head>
  <body id="container" onload="retrieve();">
    <center>
      <div id="kouzi-top">
        <div id="title">
          <strong><i>Kouzi</i></strong>
        </div>
      </div>
      <div class="outer">
        <div class="i-mainR">
          <h1>Result</h1>
          <div id="frame"></div>
          <br><br>
          <button class="btn btn-lg i-mainL-btn" ontouchstart=""><span class="glyphicon glyphicon-pencil"></span>&nbsp;Edit</button>
        </div>
        <div class="i-mainL">
          <h1>Editor</h1>
          <textarea autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" id="txta" onkeyup="run();"></textarea>
          <br><br>
          <button class="btn btn-lg i-mainR-btn" ontouchstart=""><span class="glyphicon glyphicon-eye-open"></span>&nbsp;Result</button>
        </div>
      </div>
    </center>
    <script>
      function retrieve() {
        if (localStorage.getItem("htm") == null) {
          localStorage.setItem("htm", "enter code...");
        }
        document.getElementById("txta").value = localStorage.getItem("htm");
        document.getElementById("frame").innerHTML = "<iframe srcdoc='" + document.getElementById("txta").value + "'></iframe>";
      }
      function run() {
        document.getElementById("frame").innerHTML = "<iframe srcdoc='" + document.getElementById("txta").value + "'></iframe>";
        localStorage.setItem("htm", document.getElementById("txta").value);
      }
      $('.i-mainL-btn').on('click', function() {
        $('.i-mainL').toggleClass('triggered');
        $('.i-mainR').toggleClass('triggered');
      });
      $('.i-mainR-btn').on('click', function() {
        $('.i-mainR').toggleClass('triggered');
        $('.i-mainL').toggleClass('triggered');
      });
      var editor = new Behave({
        textarea: document.getElementById('txta'),
        tabSize: 2
      });
    </script>
  </body>
</html>
